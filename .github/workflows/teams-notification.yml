name: Teams Notification

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      - name: Microsoft Teams Notification
        uses: aliencube/microsoft-teams-actions@v0.8.0
        with:
          webhook_uri: ${{ secrets.TEAMS_WEBHOOK }}
          summary: "🔔 ${{ github.repository }} - ${{ github.event_name }}通知"
          text: |
            **ブランチ情報**
            - 対象ブランチ: `${{ github.ref_name }}`

            **変更情報**
            - リポジトリ: ${{ github.repository }}
            - イベント: ${{ github.event_name }}
            - 実行者: ${{ github.actor }}
          
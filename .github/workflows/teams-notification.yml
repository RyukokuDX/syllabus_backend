name: Teams Notification

on:
  push:
    branches: [ main, develop, fujiwara/feature/teamsnotice ]
  pull_request:
    branches: [ main, develop ]
jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Notify to Microsoft Teams via webhook
        run: |
          curl -H "Content-Type: application/json" -d '{
            "@type": "MessageCard",
            "@context": "https://schema.org/extensions",
            "summary": "GitHub Actions é€šçŸ¥",
            "themeColor": "0076D7",
            "title": "ğŸš€ GitHub Actions é€šçŸ¥",
            "sections": [{
              "facts": [
                {"name": "ãƒªãƒã‚¸ãƒˆãƒª", "value": "${{ github.repository }}"},
                {"name": "ãƒ–ãƒ©ãƒ³ãƒ", "value": "${{ github.ref_name }}"},
                {"name": "ã‚¤ãƒ™ãƒ³ãƒˆ", "value": "${{ github.event_name }}"},
                {"name": "å®Ÿè¡Œè€…", "value": "${{ github.actor }}"},
                {"name": "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹", "value": "${{ job.status }}"},
                {"name": "ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸", "value": "${{ github.event.head_commit.message }}"}
              ],
              "markdown": true
            }]
          }' "${{ secrets.TEAMS_WEBHOOK }}"

---
title: ãƒ‘ãƒ¼ã‚µãƒ¼ä¸€è¦§
file_version: v1.3.3
project_version: v1.3.29
last_updated: 2025-06-23
---

# ãƒ‘ãƒ¼ã‚µãƒ¼ä¸€è¦§

- File Version: v1.3.3
- Project Version: v1.3.29
- Last Updated: 2025-06-23

[readmeã¸](../../README.md)

## ç›®æ¬¡
1. [æ¦‚è¦](#æ¦‚è¦)
2. [ãƒ‘ãƒ¼ã‚µãƒ¼ä¸€è¦§](#ãƒ‘ãƒ¼ã‚µãƒ¼ä¸€è¦§)
3. [å®Ÿè¡Œæ–¹æ³•](#å®Ÿè¡Œæ–¹æ³•)
4. [åŸºæœ¬æ–¹é‡](#åŸºæœ¬æ–¹é‡)

## æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€ã‚·ãƒ©ãƒã‚¹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ§‹ç¯‰ã«ä½¿ç”¨ã•ã‚Œã‚‹å„ãƒ‘ãƒ¼ã‚µãƒ¼ã®å½¹å‰²ã¨å‡¦ç†å†…å®¹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
å„ãƒ‘ãƒ¼ã‚µãƒ¼ã¯ç‰¹å®šã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰æƒ…å ±ã‚’æŠ½å‡ºã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ ¼ç´ã™ã‚‹ãŸã‚ã®å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚

## ãƒ‘ãƒ¼ã‚µãƒ¼ä¸€è¦§

> **æ³¨æ„:** `src/course_guide/{year}/csv/*.csv` ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¯**ã‚¿ãƒ–åŒºåˆ‡ã‚Š**ã§ã™ã€‚

| ãƒ‘ãƒ¼ã‚µãƒ¼å | ãƒ•ã‚¡ã‚¤ãƒ«å | å‡¦ç†å†…å®¹ | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ | å¯¾å¿œãƒ†ãƒ¼ãƒ–ãƒ« |
|------------|------------|----------|--------------|--------------|
| ç§‘ç›®åŒºåˆ†ãƒ‘ãƒ¼ã‚µãƒ¼ | 01_class.py | ç§‘ç›®åŒºåˆ†ã®æŠ½å‡º | `src/course_guide/{year}/csv/*.csv`ï¼ˆã‚¿ãƒ–åŒºåˆ‡ã‚Šï¼‰ | class |
| ç§‘ç›®å°åŒºåˆ†ãƒ‘ãƒ¼ã‚µãƒ¼ | 02_subclass.py | ç§‘ç›®å°åŒºåˆ†ã®æŠ½å‡º | `src/course_guide/{year}/csv/*.csv`ï¼ˆã‚¿ãƒ–åŒºåˆ‡ã‚Šï¼‰ | subclass |
| å­¦éƒ¨ãƒ‘ãƒ¼ã‚µãƒ¼ | 03_faculty.py | å­¦éƒ¨æƒ…å ±ã®æŠ½å‡º | `src/course_guide/{year}/csv/*.csv`ï¼ˆã‚¿ãƒ–åŒºåˆ‡ã‚Šï¼‰ | faculty |
| ç§‘ç›®åãƒ‘ãƒ¼ã‚µãƒ¼ | 04_subject_name.py | ç§‘ç›®åã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | subject_name |
| æ•™å“¡ãƒ‘ãƒ¼ã‚µãƒ¼ | 05_instructor.py | æ•™å“¡æƒ…å ±ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | instructor |
| ã‚·ãƒ©ãƒã‚¹ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ãƒ¼ã‚µãƒ¼ | 06_syllabus_master.py | ã‚·ãƒ©ãƒã‚¹ãƒã‚¹ã‚¿ãƒ¼æƒ…å ±ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | syllabus_master |
| æ›¸ç±ãƒ‘ãƒ¼ã‚µãƒ¼ | 07_book.py | æ›¸ç±æƒ…å ±ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | book, book_uncategorized |
| ã‚·ãƒ©ãƒã‚¹ãƒ‘ãƒ¼ã‚µãƒ¼ | 09_syllabus.py | ã‚·ãƒ©ãƒã‚¹è©³ç´°æƒ…å ±ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | syllabus |
| ç§‘ç›®å±¥ä¿®å¯èƒ½å­¦å¹´ãƒ‘ãƒ¼ã‚µãƒ¼ | 10_subject_grade.py | å±¥ä¿®å¯èƒ½å­¦å¹´ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | subject_grade |
| è¬›ç¾©æ™‚é–“ãƒ‘ãƒ¼ã‚µãƒ¼ | 11_lecture_time.py | è¬›ç¾©æ™‚é–“æƒ…å ±ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | lecture_time |
| è¬›ç¾©ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‘ãƒ¼ã‚µãƒ¼ | 12_lecture_session.py | è¬›ç¾©ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | lecture_session |
| ç§‘ç›®å±æ€§ãƒ‘ãƒ¼ã‚µãƒ¼ | 16_subject_attribute.py | ç§‘ç›®å±æ€§ã®æŠ½å‡º | `src/course_guide/{year}/csv/*.csv`ï¼ˆã‚¿ãƒ–åŒºåˆ‡ã‚Šï¼‰ | subject_attribute |
| ç§‘ç›®ãƒ‘ãƒ¼ã‚µãƒ¼ | 17_subject.py | ç§‘ç›®æƒ…å ±ã®çµ±åˆ | `src/course_guide/{year}/csv/*.csv`ï¼ˆã‚¿ãƒ–åŒºåˆ‡ã‚Šï¼‰ | subject |
| ç§‘ç›®å±æ€§å€¤ãƒ‘ãƒ¼ã‚µãƒ¼ | 19_subject_attribute_value.py | ç§‘ç›®å±æ€§å€¤ã®æŠ½å‡º | `src/course_guide/{year}/csv/*.csv`ï¼ˆã‚¿ãƒ–åŒºåˆ‡ã‚Šï¼‰ | subject_attribute_value |

### æœªå®Ÿè£…ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆstructure.mdæº–æ‹ ï¼‰

ä»¥ä¸‹ã®ãƒ‘ãƒ¼ã‚µãƒ¼ã¯`structure.md`ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãŒã€ã¾ã å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼š

| ãƒ‘ãƒ¼ã‚µãƒ¼å | ãƒ•ã‚¡ã‚¤ãƒ«å | å‡¦ç†å†…å®¹ | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ | å¯¾å¿œãƒ†ãƒ¼ãƒ–ãƒ« |
|------------|------------|----------|--------------|--------------|
| ã‚·ãƒ©ãƒã‚¹æ•™å“¡é–¢é€£ãƒ‘ãƒ¼ã‚µãƒ¼ | 13_syllabus_instructor.py | ã‚·ãƒ©ãƒã‚¹æ•™å“¡é–¢é€£ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | syllabus_instructor |
| è¬›ç¾©ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•™å“¡ãƒ‘ãƒ¼ã‚µãƒ¼ | 14_lecture_session_instructor.py | è¬›ç¾©ã‚»ãƒƒã‚·ãƒ§ãƒ³æ•™å“¡ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | lecture_session_instructor |
| ã‚·ãƒ©ãƒã‚¹æ•™ç§‘æ›¸é–¢é€£ãƒ‘ãƒ¼ã‚µãƒ¼ | 15_syllabus_book.py | ã‚·ãƒ©ãƒã‚¹æ•™ç§‘æ›¸é–¢é€£ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | syllabus_book |
| æˆç¸¾è©•ä¾¡åŸºæº–ãƒ‘ãƒ¼ã‚µãƒ¼ | 18_grading_criterion.py | æˆç¸¾è©•ä¾¡åŸºæº–ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | grading_criterion |
| ç§‘ç›®ã‚·ãƒ©ãƒã‚¹é–¢é€£ãƒ‘ãƒ¼ã‚µãƒ¼ | 20_subject_syllabus.py | ç§‘ç›®ã‚·ãƒ©ãƒã‚¹é–¢é€£ã®æŠ½å‡º | `src/course_guide/{year}/csv/*.csv`ï¼ˆã‚¿ãƒ–åŒºåˆ‡ã‚Šï¼‰ | subject_syllabus |
| ã‚·ãƒ©ãƒã‚¹ç³»çµ±çš„å±¥ä¿®ãƒ‘ãƒ¼ã‚µãƒ¼ | 21_syllabus_study_system.py | ã‚·ãƒ©ãƒã‚¹ç³»çµ±çš„å±¥ä¿®ã®æŠ½å‡º | `src/syllabus/{year}/json/*.json` | syllabus_study_system |

## å®Ÿè¡Œæ–¹æ³•

ãƒ‘ãƒ¼ã‚µãƒ¼ã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã§ãã¾ã™ï¼š

```bash
./syllabus.sh parser [ãƒ‘ãƒ¼ã‚µãƒ¼åã¾ãŸã¯ç•ªå·]
```

ä¾‹ï¼š
```bash
./syllabus.sh parser 01  # ç§‘ç›®åŒºåˆ†ãƒ‘ãƒ¼ã‚µãƒ¼ã‚’å®Ÿè¡Œ
./syllabus.sh parser class  # ç§‘ç›®åŒºåˆ†ãƒ‘ãƒ¼ã‚µãƒ¼ã‚’å®Ÿè¡Œ
```

## åŸºæœ¬æ–¹é‡

### tqdmãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã®åŸºæœ¬æ–¹é‡

#### 1. å‡¦ç†é–‹å§‹æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
```python
tqdm.write(f"\n{'='*60}")
tqdm.write(f"å‡¦ç†å - å¯¾è±¡å¹´åº¦: {year}")
tqdm.write(f"{'='*60}")
```

#### 2. ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã®é€²æ—è¡¨ç¤º
```python
# ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ã®é€²æ—ãƒãƒ¼
for json_file in tqdm(json_files, desc="ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ä¸­", unit="file"):
    # å‡¦ç†å†…å®¹
    pass
```

#### 3. è©³ç´°å‡¦ç†ã®é€²æ—è¡¨ç¤º
```python
# è©³ç´°å‡¦ç†ã®é€²æ—ãƒãƒ¼ï¼ˆleave=Falseã§è¦ªãƒãƒ¼ã®ä¸‹ã«è¡¨ç¤ºï¼‰
for item in tqdm(items, desc=f"è©³ç´°å‡¦ç†ä¸­ ({identifier})", leave=False):
    # å‡¦ç†å†…å®¹
    pass
```

#### 4. çµ±è¨ˆæƒ…å ±ã®è¡¨ç¤º
å‡¦ç†å®Œäº†æ™‚ã«ä»¥ä¸‹ã®å½¢å¼ã§çµ±è¨ˆæƒ…å ±ã‚’è¡¨ç¤ºã—ã¾ã™ï¼š

```python
# æœ€çµ‚çµ±è¨ˆã®è¡¨ç¤º
tqdm.write("\n" + "="*60)
tqdm.write("å‡¦ç†å®Œäº† - çµ±è¨ˆæƒ…å ±")
tqdm.write("="*60)
tqdm.write(f"ç·ãƒ•ã‚¡ã‚¤ãƒ«æ•°: {stats['total_files']}")
tqdm.write(f"å‡¦ç†æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«æ•°: {stats['processed_files']}")
tqdm.write(f"ç·ãƒ‡ãƒ¼ã‚¿æ•°: {stats['total_items']}")
tqdm.write(f"æ­£å¸¸ãƒ‡ãƒ¼ã‚¿æ•°: {stats['valid_items']}")
tqdm.write(f"ã‚¨ãƒ©ãƒ¼ãƒ‡ãƒ¼ã‚¿æ•°: {stats['error_items']}")
tqdm.write("="*60)
```

#### 5. çµæœã‚µãƒãƒªãƒ¼ã®è¡¨ç¤º
```python
tqdm.write(f"\n{'='*60}")
tqdm.write("ğŸ“Š æŠ½å‡ºçµæœã‚µãƒãƒªãƒ¼")
tqdm.write(f"{'='*60}")
tqdm.write(f"âœ… æ­£å¸¸ãƒ‡ãƒ¼ã‚¿: {len(valid_data)}ä»¶")
tqdm.write(f"âš ï¸  ã‚¨ãƒ©ãƒ¼ãƒ‡ãƒ¼ã‚¿: {len(error_data)}ä»¶")
tqdm.write(f"ğŸ“ˆ åˆè¨ˆ: {len(valid_data) + len(error_data)}ä»¶")
```

#### 6. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤º
```python
# é‡è¦ãªã‚¨ãƒ©ãƒ¼ã¯è¡¨ç¤ºã€è»½å¾®ãªã‚¨ãƒ©ãƒ¼ã¯ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ
tqdm.write(f"ã‚¨ãƒ©ãƒ¼: {error_message}")  # é‡è¦ãªã‚¨ãƒ©ãƒ¼
# tqdm.write(f"è­¦å‘Š: {warning_message}")  # è»½å¾®ãªã‚¨ãƒ©ãƒ¼ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆï¼‰
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã®åŸºæœ¬æ–¹é‡

#### syllabus_masterã¸ã®å•ã„åˆã‚ã›
syllabus_masterãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®å•ã„åˆã‚ã›ã¯ã€å¿…ãš`utils.md`ã§å®šç¾©ã•ã‚ŒãŸé–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

```python
from .utils import get_syllabus_master_id_from_db

# ã‚·ãƒ©ãƒã‚¹ãƒã‚¹ã‚¿ãƒ¼IDã®å–å¾—
try:
    syllabus_id = get_syllabus_master_id_from_db(session, syllabus_code, year)
    if not syllabus_id:
        tqdm.write(f"syllabus_masterã«å¯¾å¿œã™ã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã›ã‚“ï¼ˆç§‘ç›®ã‚³ãƒ¼ãƒ‰: {syllabus_code}, å¹´åº¦: {year}ï¼‰")
        continue
except Exception as e:
    tqdm.write(f"è‡´å‘½çš„ãªDBæ¥ç¶šã‚¨ãƒ©ãƒ¼: {e}")
    raise
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚‚`utils.md`ã®é–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

```python
from .utils import get_db_connection

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
session = get_db_connection()
try:
    # å‡¦ç†å†…å®¹
    pass
finally:
    session.close()
```

### çµ±è¨ˆæƒ…å ±ã®ç®¡ç†

å„ãƒ‘ãƒ¼ã‚µãƒ¼ã§ã¯ä»¥ä¸‹ã®çµ±è¨ˆæƒ…å ±ã‚’ç®¡ç†ã—ã¾ã™ï¼š

```python
stats = {
    'total_files': 0,      # ç·ãƒ•ã‚¡ã‚¤ãƒ«æ•°
    'processed_files': 0,  # å‡¦ç†æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«æ•°
    'total_items': 0,      # ç·ãƒ‡ãƒ¼ã‚¿æ•°
    'valid_items': 0,      # æ­£å¸¸ãƒ‡ãƒ¼ã‚¿æ•°
    'error_items': 0,      # ã‚¨ãƒ©ãƒ¼ãƒ‡ãƒ¼ã‚¿æ•°
    'specific_errors': {}  # ç‰¹å®šã®ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ã”ã¨ã®ã‚«ã‚¦ãƒ³ãƒˆ
}
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

- è‡´å‘½çš„ãªã‚¨ãƒ©ãƒ¼ï¼šä¾‹å¤–ã‚’å†é€å‡ºã—ã¦å‡¦ç†ã‚’åœæ­¢
- è»½å¾®ãªã‚¨ãƒ©ãƒ¼ï¼šçµ±è¨ˆã«è¨˜éŒ²ã—ã¦å‡¦ç†ã‚’ç¶™ç¶š
- ãƒ‡ãƒãƒƒã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼šå¿…è¦æœ€å°é™ã«æŠ‘åˆ¶ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆï¼‰

[ğŸ” ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã¸](#ãƒ‘ãƒ¼ã‚µãƒ¼ä¸€è¦§) 
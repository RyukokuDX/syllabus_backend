# ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

[readmeã¸](../README.md) | [docã¸](./doc.md)

## ç›®æ¬¡
1. [åŸºæœ¬æ–¹é‡](#åŸºæœ¬æ–¹é‡)
2. [é–¢æ•°ã®å‘½åè¦å‰‡](#é–¢æ•°ã®å‘½åè¦å‰‡)
3. [å¼•æ•°ã¨æˆ»ã‚Šå€¤](#å¼•æ•°ã¨æˆ»ã‚Šå€¤)
4. [ã‚¨ãƒ©ãƒ¼å‡¦ç†](#ã‚¨ãƒ©ãƒ¼å‡¦ç†)
5. [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³](#ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³)
6. [ãƒ†ã‚¹ãƒˆ](#ãƒ†ã‚¹ãƒˆ)
7. [ä½¿ç”¨ä¾‹](#ä½¿ç”¨ä¾‹)
8. [å…±é€šæ©Ÿèƒ½](#å…±é€šæ©Ÿèƒ½)

## åŸºæœ¬æ–¹é‡

### ç›®çš„
- å†åˆ©ç”¨å¯èƒ½ãªå…±é€šæ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã“ã¨
- ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ã‚’é¿ã‘ã‚‹ã“ã¨
- ä¸€è²«æ€§ã®ã‚ã‚‹å®Ÿè£…ã‚’ç¶­æŒã™ã‚‹ã“ã¨

### å¯¾è±¡èª­è€…
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹ç™ºè€…
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼
- å°†æ¥ã®ãƒ¡ãƒ³ãƒ†ãƒŠ

## é–¢æ•°ã®å‘½åè¦å‰‡

### å‘½åè¦å‰‡
- ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ã‚’ä½¿ç”¨ï¼ˆä¾‹ï¼š`normalize_subject_name`ï¼‰
- å‹•è©ã‹ã‚‰å§‹ã‚ã‚‹ï¼ˆä¾‹ï¼š`get_`, `set_`, `create_`ï¼‰
- ç›®çš„ã‚’æ˜ç¢ºã«ç¤ºã™ï¼ˆä¾‹ï¼š`parse_csv_data`ï¼‰

### å‘½åä¾‹
```python
def normalize_subject_name(name: str) -> str:
    """ç§‘ç›®åã‚’æ­£è¦åŒ–ã™ã‚‹"""
    pass

def get_subject_name_id_from_db(name: str) -> int:
    """ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ç§‘ç›®åIDã‚’å–å¾—ã™ã‚‹"""
    pass
```

## å¼•æ•°ã¨æˆ»ã‚Šå€¤

### å‹ãƒ’ãƒ³ãƒˆ
- ã™ã¹ã¦ã®å¼•æ•°ã¨æˆ»ã‚Šå€¤ã«å‹ãƒ’ãƒ³ãƒˆã‚’ä»˜ã‘ã‚‹
- è¤‡é›‘ãªå‹ã¯`typing`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨

### å¼•æ•°ã®é †åº
1. å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
2. ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
3. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°

ä¾‹ï¼š
```python
def process_data(
    required_param: str,
    optional_param: int = 0,
    *,
    keyword_param: bool = True
) -> Dict[str, Any]:
    pass
```

## ã‚¨ãƒ©ãƒ¼å‡¦ç†

### ä¾‹å¤–ã®ä½¿ç”¨
- é©åˆ‡ãªä¾‹å¤–ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨
- ã‚«ã‚¹ã‚¿ãƒ ä¾‹å¤–ã¯`exceptions.py`ã§å®šç¾©

### ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- å…·ä½“çš„ã§åˆ†ã‹ã‚Šã‚„ã™ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- ã‚¨ãƒ©ãƒ¼ã®åŸå› ã¨å¯¾å‡¦æ–¹æ³•ã‚’å«ã‚ã‚‹

ä¾‹ï¼š
```python
def validate_input(data: str) -> None:
    if not data:
        raise ValueError("å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãŒç©ºã§ã™")
    if len(data) > 100:
        raise ValueError("å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãŒé•·ã™ãã¾ã™ï¼ˆæœ€å¤§100æ–‡å­—ï¼‰")
```

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

### é–¢æ•°ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```python
def function_name(param1: type, param2: type) -> return_type:
    """é–¢æ•°ã®æ¦‚è¦

    Args:
        param1 (type): ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿1ã®èª¬æ˜
        param2 (type): ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿2ã®èª¬æ˜

    Returns:
        return_type: æˆ»ã‚Šå€¤ã®èª¬æ˜

    Raises:
        ExceptionType: ä¾‹å¤–ãŒç™ºç”Ÿã™ã‚‹æ¡ä»¶ã®èª¬æ˜
    """
    pass
```

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```python
"""
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ¦‚è¦

ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ï¼š
- æ©Ÿèƒ½1ã®èª¬æ˜
- æ©Ÿèƒ½2ã®èª¬æ˜

ä½¿ç”¨ä¾‹ï¼š
    >>> from utils import function_name
    >>> result = function_name(param1, param2)
"""
```

## ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆã®è¦ä»¶
- å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å¿…ãšä½œæˆ
- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’ã‚«ãƒãƒ¼
- ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦å¤–éƒ¨ä¾å­˜ã‚’åˆ†é›¢

### ãƒ†ã‚¹ãƒˆã®æ§‹é€ 
```python
def test_function_name():
    """ãƒ†ã‚¹ãƒˆã®ç›®çš„"""
    # æº–å‚™
    input_data = "test"
    expected = "expected"
    
    # å®Ÿè¡Œ
    result = function_name(input_data)
    
    # æ¤œè¨¼
    assert result == expected
```

## ä½¿ç”¨ä¾‹

### åŸºæœ¬çš„ãªä½¿ç”¨ä¾‹
```python
from utils import normalize_subject_name

# ç§‘ç›®åã®æ­£è¦åŒ–
name = " ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºç¤â…  "
normalized = normalize_subject_name(name)
print(normalized)  # "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºç¤I"
```

### ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®ä¾‹
```python
from utils import get_subject_name_id_from_db

try:
    subject_id = get_subject_name_id_from_db("å­˜åœ¨ã—ãªã„ç§‘ç›®å")
except ValueError as e:
    print(f"ã‚¨ãƒ©ãƒ¼: {e}")
```

## å…±é€šæ©Ÿèƒ½

### å¹´åº¦ã®å–å¾—ã¨æ¤œè¨¼
å¹´åº¦ã®å–å¾—ã¨æ¤œè¨¼ã¯ã€ä»¥ä¸‹ã®é–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

```python
def get_current_year() -> int:
    """ç¾åœ¨ã®å¹´åº¦ã‚’å–å¾—ã™ã‚‹
    
    Returns:
        int: ç¾åœ¨ã®å¹´åº¦ï¼ˆä¾‹ï¼š2024ï¼‰
    """
    return datetime.now().year

def get_year_from_user() -> int:
    """ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å¹´åº¦ã‚’å…¥åŠ›ã—ã¦ã‚‚ã‚‰ã†
    
    Returns:
        int: å…¥åŠ›ã•ã‚ŒãŸå¹´åº¦
        
    Raises:
        ValueError: å…¥åŠ›ãŒç„¡åŠ¹ãªå ´åˆ
    """
    while True:
        try:
            year = input("å¹´åº¦ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆç©ºã®å ´åˆã¯ç¾åœ¨ã®å¹´åº¦ï¼‰: ").strip()
            if not year:
                return get_current_year()
            year = int(year)
            if 2000 <= year <= 2100:  # å¦¥å½“ãªå¹´åº¦ã®ç¯„å›²ã‚’ãƒã‚§ãƒƒã‚¯
                return year
            print("2000å¹´ã‹ã‚‰2100å¹´ã®é–“ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
        except ValueError:
            print("æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
```

### ä½¿ç”¨ä¾‹
```python
from utils import get_year_from_user

# å¹´åº¦ã®å–å¾—
year = get_year_from_user()
print(f"å‡¦ç†å¯¾è±¡å¹´åº¦: {year}")
```

## æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ›´æ–°è€… | å†…å®¹ |
|------|------------|--------|------|
| 2024-03-20 | 1.0.0 | é–‹ç™ºè€…å | åˆç‰ˆä½œæˆ |

[ğŸ” ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã¸](#ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³) 
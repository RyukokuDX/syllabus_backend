---
title: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
file_version: v2.5.1
project_version: v2.5.1
last_updated: 2025-07-04
---

<!--
æ›´æ–°æ™‚ã®æ³¨æ„äº‹é …:
- æº–æ‹ ã¨ã¯ã€é¡æ¨ã›ãšã«å†…å®¹ã«å¾“ã†ã“ã¨
- æ›´æ–°ã¯ docs/doc.md ã«æº–æ‹ ã™ã‚‹ã“ã¨
-->

# ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- File Version: v2.5.1
- Project Version: v2.5.1
- Last Updated: 2025-07-04

[readmeã¸](../README.md) | [docã¸](./doc.md)

## ç›®æ¬¡
1. [åŸºæœ¬æ–¹é‡](#åŸºæœ¬æ–¹é‡)
2. [é–¢æ•°ã®å‘½åè¦å‰‡](#é–¢æ•°ã®å‘½åè¦å‰‡)
3. [å¼•æ•°ã¨æˆ»ã‚Šå€¤](#å¼•æ•°ã¨æˆ»ã‚Šå€¤)
4. [ã‚¨ãƒ©ãƒ¼å‡¦ç†](#ã‚¨ãƒ©ãƒ¼å‡¦ç†)
5. [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³](#ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³)
6. [ãƒ†ã‚¹ãƒˆ](#ãƒ†ã‚¹ãƒˆ)
7. [ä½¿ç”¨ä¾‹](#ä½¿ç”¨ä¾‹)
8. [å…±é€šæ©Ÿèƒ½](#å…±é€šæ©Ÿèƒ½)

## åŸºæœ¬æ–¹é‡

### ç›®çš„
- å†åˆ©ç”¨å¯èƒ½ãªå…±é€šæ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã“ã¨
- ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ã‚’é¿ã‘ã‚‹ã“ã¨
- ä¸€è²«æ€§ã®ã‚ã‚‹å®Ÿè£…ã‚’ç¶­æŒã™ã‚‹ã“ã¨

### æ–‡å­—ã®æ­£è¦åŒ–æ–¹é‡
- å¹³ä»®åã¨ç‰‡ä»®åä»¥å¤–ã®æ–‡å­—ã§å…¨è§’ã¨åŠè§’ãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯ã€åŠè§’ã‚’æ¡ç”¨
  - ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆï¼šå…¨è§’ï¼ˆï¼¡ï¼¢ï¼£ï¼‰â†’åŠè§’ï¼ˆABCï¼‰
  - æ•°å­—ï¼šå…¨è§’ï¼ˆï¼‘ï¼’ï¼“ï¼‰â†’åŠè§’ï¼ˆ123ï¼‰
  - è¨˜å·ï¼šå…¨è§’ï¼ˆï¼ˆï¼‰ï¼‰â†’åŠè§’ï¼ˆ()ï¼‰
  - ã‚¹ãƒšãƒ¼ã‚¹ï¼šå…¨è§’ï¼ˆã€€ï¼‰â†’åŠè§’ï¼ˆ ï¼‰
  - ãƒã‚¤ãƒ•ãƒ³é¡ï¼šå…¨è§’ï¼ˆï¼ï¼‰â†’åŠè§’ï¼ˆ-ï¼‰
  - ãƒ­ãƒ¼ãƒæ•°å­—ï¼šå…¨è§’ï¼ˆâ…  â…¡ â…¢ï¼‰â†’åŠè§’ï¼ˆI II IIIï¼‰
  - ä¸­ç‚¹ï¼šå…¨è§’ï¼ˆãƒ»ï¼‰â†’åŠè§’ï¼ˆÂ·ï¼‰
- å¹³ä»®åã¨ç‰‡ä»®åã¯å…¨è§’ã®ã¾ã¾ç¶­æŒ
- é€£ç¶šã™ã‚‹ã‚¹ãƒšãƒ¼ã‚¹ã¯1ã¤ã«çµ±ä¸€

### å¯¾è±¡èª­è€…
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹ç™ºè€…
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼
- å°†æ¥ã®ãƒ¡ãƒ³ãƒ†ãƒŠ

## é–¢æ•°ã®å‘½åè¦å‰‡

### å‘½åè¦å‰‡
- ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹ã‚’ä½¿ç”¨ï¼ˆä¾‹ï¼š`normalize_subject_name`ï¼‰
- å‹•è©ã‹ã‚‰å§‹ã‚ã‚‹ï¼ˆä¾‹ï¼š`get_`, `set_`, `create_`ï¼‰
- ç›®çš„ã‚’æ˜ç¢ºã«ç¤ºã™ï¼ˆä¾‹ï¼š`parse_csv_data`ï¼‰

### å‘½åä¾‹
```python
def normalize_subject_name(name: str) -> str:
    """ç§‘ç›®åã‚’æ­£è¦åŒ–ã™ã‚‹"""
    pass

def get_syllabus_master_id_from_db(session, syllabus_code: str, year: int) -> int:
    """ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ã‚·ãƒ©ãƒã‚¹ãƒã‚¹ã‚¿ãƒ¼IDã‚’å–å¾—ã™ã‚‹"""
    pass
```

## å¼•æ•°ã¨æˆ»ã‚Šå€¤

### å‹ãƒ’ãƒ³ãƒˆ
- ã™ã¹ã¦ã®å¼•æ•°ã¨æˆ»ã‚Šå€¤ã«å‹ãƒ’ãƒ³ãƒˆã‚’ä»˜ã‘ã‚‹
- è¤‡é›‘ãªå‹ã¯`typing`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨

### å¼•æ•°ã®é †åº
1. å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
2. ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
3. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°

ä¾‹ï¼š
```python
def process_data(
    required_param: str,
    optional_param: int = 0,
    *,
    keyword_param: bool = True
) -> Dict[str, Any]:
    pass
```

## ã‚¨ãƒ©ãƒ¼å‡¦ç†

### ä¾‹å¤–ã®ä½¿ç”¨
- é©åˆ‡ãªä¾‹å¤–ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨
- ã‚«ã‚¹ã‚¿ãƒ ä¾‹å¤–ã¯`exceptions.py`ã§å®šç¾©

### ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- å…·ä½“çš„ã§åˆ†ã‹ã‚Šã‚„ã™ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- ã‚¨ãƒ©ãƒ¼ã®åŸå› ã¨å¯¾å‡¦æ–¹æ³•ã‚’å«ã‚ã‚‹

ä¾‹ï¼š
```python
def validate_input(data: str) -> None:
    if not data:
        raise ValueError("å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãŒç©ºã§ã™")
    if len(data) > 100:
        raise ValueError("å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãŒé•·ã™ãã¾ã™ï¼ˆæœ€å¤§100æ–‡å­—ï¼‰")
```

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

### é–¢æ•°ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```python
def function_name(param1: type, param2: type) -> return_type:
    """é–¢æ•°ã®æ¦‚è¦

    Args:
        param1 (type): ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿1ã®èª¬æ˜
        param2 (type): ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿2ã®èª¬æ˜

    Returns:
        return_type: æˆ»ã‚Šå€¤ã®èª¬æ˜

    Raises:
        ExceptionType: ä¾‹å¤–ãŒç™ºç”Ÿã™ã‚‹æ¡ä»¶ã®èª¬æ˜
    """
    pass
```

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```python
"""
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®æ¦‚è¦

ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ï¼š
- æ©Ÿèƒ½1ã®èª¬æ˜
- æ©Ÿèƒ½2ã®èª¬æ˜

ä½¿ç”¨ä¾‹ï¼š
    >>> from utils import function_name
    >>> result = function_name(param1, param2)
"""
```

## ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆã®è¦ä»¶
- å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å¿…ãšä½œæˆ
- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’ã‚«ãƒãƒ¼
- ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦å¤–éƒ¨ä¾å­˜ã‚’åˆ†é›¢

### ãƒ†ã‚¹ãƒˆã®æ§‹é€ 
```python
def test_function_name():
    """ãƒ†ã‚¹ãƒˆã®ç›®çš„"""
    # æº–å‚™
    input_data = "test"
    expected = "expected"
    
    # å®Ÿè¡Œ
    result = function_name(input_data)
    
    # æ¤œè¨¼
    assert result == expected
```

## ä½¿ç”¨ä¾‹

### åŸºæœ¬çš„ãªä½¿ç”¨ä¾‹
```python
from utils import normalize_subject_name

# ç§‘ç›®åã®æ­£è¦åŒ–
name = " ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºç¤â…  "
normalized = normalize_subject_name(name)
print(normalized)  # "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºç¤I"
```

### ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®ä¾‹
```python
from utils import get_syllabus_master_id_from_db

try:
    syllabus_id = get_syllabus_master_id_from_db(session, "CS101", 2024)
except Exception as e:
    print(f"ã‚¨ãƒ©ãƒ¼: {e}")
```

## å…±é€šæ©Ÿèƒ½

### å¹´åº¦ã®å–å¾—ã¨æ¤œè¨¼
å¹´åº¦ã®å–å¾—ã¨æ¤œè¨¼ã¯ã€ä»¥ä¸‹ã®é–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

```python
def get_current_year() -> int:
    """ç¾åœ¨ã®å¹´åº¦ã‚’å–å¾—ã™ã‚‹
    
    Returns:
        int: ç¾åœ¨ã®å¹´åº¦ï¼ˆä¾‹ï¼š2024ï¼‰
    """
    return datetime.now().year

def get_year_from_user() -> int:
    """ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å¹´åº¦ã‚’å…¥åŠ›ã—ã¦ã‚‚ã‚‰ã†
    
    Returns:
        int: å…¥åŠ›ã•ã‚ŒãŸå¹´åº¦
        
    Raises:
        ValueError: å…¥åŠ›ãŒç„¡åŠ¹ãªå ´åˆ
    """
    while True:
        try:
            year = input("å¹´åº¦ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆç©ºã®å ´åˆã¯ç¾åœ¨ã®å¹´åº¦ï¼‰: ").strip()
            if not year:
                return get_current_year()
            year = int(year)
            if 2000 <= year <= 2100:  # å¦¥å½“ãªå¹´åº¦ã®ç¯„å›²ã‚’ãƒã‚§ãƒƒã‚¯
                return year
            print("2000å¹´ã‹ã‚‰2100å¹´ã®é–“ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
        except ValueError:
            print("æœ‰åŠ¹ãªæ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã¯ã€ä»¥ä¸‹ã®é–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

```python
def get_db_connection():
    """ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚’å–å¾—ã™ã‚‹
    
    Returns:
        Session: SQLAlchemyã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
        
    Note:
        ç’°å¢ƒå¤‰æ•°ã‹ã‚‰æ¥ç¶šæƒ…å ±ã‚’å–å¾—ã—ã€UTF-8ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¨­å®šã—ã¾ã™
    """
    user = os.getenv('POSTGRES_USER', 'postgres')
    password = os.getenv('POSTGRES_PASSWORD', 'postgres')
    host = os.getenv('POSTGRES_HOST', 'localhost')
    port = os.getenv('POSTGRES_PORT', '5432')
    db = os.getenv('POSTGRES_DB', 'syllabus_db')  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’syllabus_dbã«æ˜ç¤º

    connection_string = f"postgresql://{user}:{password}@{host}:{port}/{db}"
    engine = create_engine(
        connection_string,
        connect_args={'options': '-c client_encoding=utf-8'}
    )
    Session = sessionmaker(bind=engine)
    session = Session()
    session.execute(text("SET client_encoding TO 'utf-8'"))
    session.commit()
    return session
```

### ã‚·ãƒ©ãƒã‚¹ãƒã‚¹ã‚¿ãƒ¼IDå–å¾—
ã‚·ãƒ©ãƒã‚¹ãƒã‚¹ã‚¿ãƒ¼IDã®å–å¾—ã¯ã€ä»¥ä¸‹ã®é–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

```python
def get_syllabus_master_id_from_db(session, syllabus_code: str, year: int) -> int:
    """ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ã‚·ãƒ©ãƒã‚¹ãƒã‚¹ã‚¿ãƒ¼IDã‚’å–å¾—ã™ã‚‹
    
    Args:
        session: SQLAlchemyã‚»ãƒƒã‚·ãƒ§ãƒ³
        syllabus_code (str): ã‚·ãƒ©ãƒã‚¹ã‚³ãƒ¼ãƒ‰
        year (int): å¹´åº¦
        
    Returns:
        int: ã‚·ãƒ©ãƒã‚¹ãƒã‚¹ã‚¿ãƒ¼IDï¼ˆè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯Noneï¼‰
        
    Raises:
        Exception: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼æ™‚
    """
    try:
        query = text("""
            SELECT syllabus_id 
            FROM syllabus_master 
            WHERE syllabus_code = :code 
            AND syllabus_year = :year
        """)
        result = session.execute(
            query,
            {"code": syllabus_code, "year": year}
        ).first()
        return result[0] if result else None
    except Exception as e:
        print(f"[DBæ¥ç¶šã‚¨ãƒ©ãƒ¼] syllabus_masterå–å¾—æ™‚ã«ã‚¨ãƒ©ãƒ¼: {str(e)}")
        raise
```

### è¬›ç¾©å›æ•°ã®æ­£è¦åˆ¤å®š
è¬›ç¾©å›æ•°ã®æ­£è¦åˆ¤å®šã¯ã€ä»¥ä¸‹ã®é–¢æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

```python
def is_regular_session(session_text: str) -> bool:
    """è¬›ç¾©ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæ­£è¦ã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹
    
    Args:
        session_text (str): è¬›ç¾©ã‚»ãƒƒã‚·ãƒ§ãƒ³æ–‡å­—åˆ—
        
    Returns:
        bool: æ­£è¦ã®å ´åˆTrueã€ä¸è¦å‰‡ã®å ´åˆFalse
        
    Note:
        ä»¥ä¸‹ã®å‡¦ç†ã‚’é †æ¬¡å®Ÿè¡Œã—ã¦åˆ¤å®šã—ã¾ã™ï¼š
        1. æ­£è¦åŒ–ï¼ˆå…¨è§’â†’åŠè§’å¤‰æ›ãªã©ï¼‰
        2. è¬›ç¾©å½¢å¼ã®æ‹¬å¼§ã‚’å‰Šé™¤ï¼ˆ(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³)ã€(ãƒã‚¤ãƒ–ãƒªãƒƒãƒˆ)ï¼‰
        3. Lã‚’å‰Šé™¤
        4. å…¨è§’æ–‡å­—ã‚’æ’é™¤
        5. ç©ºç™½å‰Šé™¤
        6. å…ˆé ­ã®0ã‚’å‰Šé™¤
        7. æ•°å­—åˆ¤å®š
    """
    if not session_text:
        return False
    # éƒ¨ã€æœˆã®æ··å…¥åˆ¤å®š
    if 'éƒ¨' in session_text or 'æœˆ' in session_text:
        return False
    # æ­£è¦åŒ–
    normalized = normalize_subject_name(session_text)
    
    # è¬›ç¾©å½¢å¼ã®æ‹¬å¼§ã‚’å‰Šé™¤
    import re
    normalized = re.sub(r'\(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³\)', '', normalized)
    normalized = re.sub(r'\(ãƒã‚¤ãƒ–ãƒªãƒƒãƒˆ\)', '', normalized)
    
    # Lã‚’å‰Šé™¤
    normalized = normalized.replace('L', '')
    
    # å…¨è§’æ–‡å­—ã‚’æ’é™¤
    cleaned_text = re.sub(r'[^\x00-\x7F\s]', '', normalized)
    # ç©ºç™½å‰Šé™¤
    cleaned_text = re.sub(r'\s', '', cleaned_text)
    # å…ˆé ­ã®0ã‚’å‰Šé™¤
    cleaned_text = cleaned_text.lstrip('0')
    # æ•°å­—åˆ¤å®š
    if not cleaned_text or not re.match(r'^\d+$', cleaned_text):
        return False
    return True

def extract_session_number(session_text: str) -> int:
    """æ­£è¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‹ã‚‰å›æ•°ã‚’æŠ½å‡ºã™ã‚‹
    
    Args:
        session_text (str): è¬›ç¾©ã‚»ãƒƒã‚·ãƒ§ãƒ³æ–‡å­—åˆ—
        
    Returns:
        int: æŠ½å‡ºã•ã‚ŒãŸå›æ•°ï¼ˆæŠ½å‡ºã§ããªã„å ´åˆã¯0ï¼‰
        
    Note:
        is_regular_sessionã¨åŒã˜å‰å‡¦ç†ã‚’å®Ÿè¡Œã—ã¦ã‹ã‚‰å›æ•°ã‚’æŠ½å‡ºã—ã¾ã™
    """
    if not session_text:
        return 0
    # éƒ¨ã€æœˆã®æ··å…¥åˆ¤å®š
    if 'éƒ¨' in session_text or 'æœˆ' in session_text:
        return 0
    # æ­£è¦åŒ–
    normalized = normalize_subject_name(session_text)
    
    # è¬›ç¾©å½¢å¼ã®æ‹¬å¼§ã‚’å‰Šé™¤
    import re
    normalized = re.sub(r'\(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³\)', '', normalized)
    normalized = re.sub(r'\(ãƒã‚¤ãƒ–ãƒªãƒƒãƒˆ\)', '', normalized)
    
    # Lã‚’å‰Šé™¤
    normalized = normalized.replace('L', '')
    
    # å…¨è§’æ–‡å­—ã‚’æ’é™¤
    cleaned_text = re.sub(r'[^\x00-\x7F\s]', '', normalized)
    # ç©ºç™½å‰Šé™¤
    cleaned_text = re.sub(r'\s', '', cleaned_text)
    # å…ˆé ­ã®0ã‚’å‰Šé™¤
    cleaned_text = cleaned_text.lstrip('0')
    # æ•°å­—åˆ¤å®š
    if not cleaned_text or not re.match(r'^\d+$', cleaned_text):
        return 0
    try:
        session_number = int(cleaned_text)
        return session_number if session_number > 0 else 0
    except ValueError:
        return 0

def is_regular_session_list(schedule_data: list) -> bool:
    """ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªã‚¹ãƒˆå…¨ä½“ãŒæ­£è¦ã‹ã©ã†ã‹ã‚’åˆ¤å®šã™ã‚‹
    
    Args:
        schedule_data (list): ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ãƒªã‚¹ãƒˆ
        
    Returns:
        bool: ãƒªã‚¹ãƒˆå…¨ä½“ãŒæ­£è¦ã®å ´åˆTrueã€1ä»¶ã§ã‚‚ä¸è¦å‰‡ãŒã‚ã‚‹å ´åˆã¾ãŸã¯é‡è¤‡ãŒã‚ã‚‹å ´åˆã¯False
        
    Note:
        ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®åˆ†é¡ãƒ«ãƒ¼ãƒ«ã«å¾“ã„ã€ãƒªã‚¹ãƒˆå†…ã«1ä»¶ã§ã‚‚ä¸è¦å‰‡ãªãƒ¬ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹å ´åˆã¯
        å…¨ä½“ã‚’ä¸è¦å‰‡ã¨ã—ã¦æ‰±ã†ã€‚ã¾ãŸã€æ­£è¦åŒ–å¾Œã«é‡è¤‡ãŒ1ä»¶ã§ã‚‚ã‚ã‚‹å ´åˆã‚‚ä¸è¦å‰‡ã¨ã—ã¦æ‰±ã†ã€‚
    """
    if not schedule_data:
        return True
    
    # æ­£è¦åŒ–å¾Œã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ç•ªå·ã‚’æ ¼ç´ã™ã‚‹ãƒªã‚¹ãƒˆ
    normalized_sessions = []
    
    # ãƒªã‚¹ãƒˆå†…ã®å„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯
    for session_data in schedule_data:
        if not isinstance(session_data, dict):
            continue
        
        session = session_data.get("session", "")
        if not session:
            continue
        
        # 1ä»¶ã§ã‚‚ä¸è¦å‰‡ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒã‚ã‚Œã°ã€ãƒªã‚¹ãƒˆå…¨ä½“ã‚’ä¸è¦å‰‡ã¨ã—ã¦æ‰±ã†
        if not is_regular_session(session):
            return False
        
        # æ­£è¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å ´åˆã€æ­£è¦åŒ–å¾Œã®ç•ªå·ã‚’å–å¾—
        session_number = extract_session_number(session)
        if session_number > 0:
            normalized_sessions.append(session_number)
    
    # é‡è¤‡ãƒã‚§ãƒƒã‚¯
    if len(normalized_sessions) != len(set(normalized_sessions)):
        return False
    
    return True

### ä½¿ç”¨ä¾‹
```python
from utils import get_year_from_user, get_db_connection, get_syllabus_master_id_from_db

# å¹´åº¦ã®å–å¾—
year = get_year_from_user()
print(f"å‡¦ç†å¯¾è±¡å¹´åº¦: {year}")

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
session = get_db_connection()

# ã‚·ãƒ©ãƒã‚¹ãƒã‚¹ã‚¿ãƒ¼IDã®å–å¾—
try:
    syllabus_id = get_syllabus_master_id_from_db(session, "CS101", year)
    if syllabus_id:
        print(f"ã‚·ãƒ©ãƒã‚¹ID: {syllabus_id}")
    else:
        print("ã‚·ãƒ©ãƒã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ")
except Exception as e:
    print(f"ã‚¨ãƒ©ãƒ¼: {e}")
finally:
    session.close()

# è¬›ç¾©å›æ•°ã®æ­£è¦åˆ¤å®š
session_texts = ["L1(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³)", "L02(ãƒã‚¤ãƒ–ãƒªãƒƒãƒˆ)", "L15", "1å›ç›®", "éƒ¨1"]
for text in session_texts:
    is_regular = is_regular_session(text)
    session_number = extract_session_number(text)
    print(f"'{text}' -> æ­£è¦: {is_regular}, å›æ•°: {session_number}")

# ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªã‚¹ãƒˆã®æ­£è¦åˆ¤å®š
schedule_data = [
    {"session": "L1(ã‚ªãƒ³ãƒ©ã‚¤ãƒ³)", "content": "å°å…¥"},
    {"session": "L2(ãƒã‚¤ãƒ–ãƒªãƒƒãƒˆ)", "content": "åŸºç¤"},
    {"session": "L3", "content": "å¿œç”¨"}
]
is_regular_list = is_regular_session_list(schedule_data)
print(f"ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªã‚¹ãƒˆæ­£è¦: {is_regular_list}")
```


[ğŸ” ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã¸](#ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³) 
# generate-migration.sh

[readmeへ](../README.md) | [ドキュメント作成ガイドラインへ](../doc.md) | [syllabus.shへ](./syllabus.md)

マイグレーションファイルを生成するスクリプト。

## 目次
1. [機能](#機能)
2. [使用方法](#使用方法)
3. [処理の流れ](#処理の流れ)
4. [依存関係](#依存関係)
5. [注意事項](#注意事項)
6. [更新履歴](#更新履歴)

## 機能

1. マイグレーションファイルの生成
   - データベースの変更に基づいてマイグレーションファイルを生成
   - 生成されたファイルを`migrations_dev`ディレクトリに配置

2. マイグレーションファイルの管理
   - ファイル名の自動生成
   - タイムスタンプの付与
   - バージョン管理

## 使用方法

```bash
./syllabus.sh -p generate
```

## 処理の流れ

1. マイグレーションファイルの生成
   - データベースの変更を検出
   - SQLファイルを生成
   - ファイル名にタイムスタンプを付与

2. ファイルの配置
   - 生成されたファイルを`migrations_dev`ディレクトリに移動
   - 既存のファイルとの競合を確認

## 依存関係

- PostgreSQLサービスが起動していること
- `migrations_dev`ディレクトリが存在すること
- 環境変数ファイル（`.env`）が正しく設定されていること

## 注意事項

- 実行前にPostgreSQLサービスが起動していることを確認
- 生成されたファイルは`migrations_dev`ディレクトリに配置
- ファイル名は自動生成される（タイムスタンプ付き）
- 生成後は内容を確認し、必要に応じて修正

## 更新履歴

| 日付 | バージョン | 更新者 | 内容 |
|------|------------|--------|------|
| 2024-03-20 | 1.0.1 | 開発者名 | 初版作成 |

[🔝 ページトップへ](#generate-migrationsh) 